"""
Activity logging
"""

enum ActivityType {
  UPLOAD
  DOWNLOAD
  CREATE
  UPDATE
  DELETE
  MOVE
  COPY
  SHARE
  UNSHARE
}

type Activity {
  id: ID!
  type: ActivityType!
  userId: ID!
  fileId: ID
  folderId: ID
  providerId: ID
  metadata: JSON
  ipAddress: String
  userAgent: String
  createdAt: DateTime!

  """User who performed the activity"""
  user: User!

  """Related file (if any)"""
  file: File

  """Related folder (if any)"""
  folder: Folder

  """Related provider (if any)"""
  provider: StorageProvider
}

extend type Query {
  """Get activity log (recent activities)"""
  activities(limit: Int, offset: Int): [Activity!]!
}
