"""
Folder permissions
"""
enum PermissionRole {
	VIEWER
	EDITOR
	ADMIN
	OWNER
}

type Permission {
	id: ID!
	folderId: ID!
	userId: ID!
	role: PermissionRole!
	grantedBy: ID!
	createdAt: DateTime!
	updatedAt: DateTime!

	"""
	Folder this permission applies to
	"""
	folder: Folder!

	"""
	User with this permission
	"""
	user: User!

	"""
	User who granted this permission
	"""
	grantedByUser: User!
}

extend type Mutation {
	"""
	Grant folder access to a user
	"""
	grantFolderAccess(input: GrantAccessInput!): Permission!

	"""
	Revoke folder access from a user
	"""
	revokeFolderAccess(folderId: ID!, userId: ID!): Boolean!
}

input GrantAccessInput {
	folderId: ID!
	userId: ID!
	role: PermissionRole!
}
